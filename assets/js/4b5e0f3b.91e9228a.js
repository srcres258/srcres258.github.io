"use strict";(self.webpackChunkneoforged_docs=self.webpackChunkneoforged_docs||[]).push([[4057],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>y});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),d=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=d(e.components);return a.createElement(l.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=d(n),m=i,y=c["".concat(l,".").concat(m)]||c[m]||u[m]||r;return n?a.createElement(y,o(o({ref:t},p),{},{components:n})):a.createElement(y,o({ref:t},p))}));function y(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:i,o[1]=s;for(var d=2;d<r;d++)o[d]=n[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},402:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>d});var a=n(7462),i=(n(7294),n(3905));const r={},o="Entities",s={unversionedId:"networking/entities",id:"networking/entities",title:"Entities",description:"In addition to regular network messages, there are various other systems provided to handle synchronizing entity data.",source:"@site/docs/networking/entities.md",sourceDirName:"networking",slug:"/networking/entities",permalink:"/docs/networking/entities",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"mainSidebar",previous:{title:"Networking",permalink:"/docs/networking/"},next:{title:"SimpleImpl",permalink:"/docs/networking/simpleimpl"}},l={},d=[{value:"Spawn Data",id:"spawn-data",level:2},{value:"IEntityAdditionalSpawnData",id:"ientityadditionalspawndata",level:3},{value:"Dynamic Data",id:"dynamic-data",level:2},{value:"Data Parameters",id:"data-parameters",level:3}],p={toc:d},c="wrapper";function u(e){let{components:t,...n}=e;return(0,i.kt)(c,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"entities"},"Entities"),(0,i.kt)("p",null,"In addition to regular network messages, there are various other systems provided to handle synchronizing entity data."),(0,i.kt)("h2",{id:"spawn-data"},"Spawn Data"),(0,i.kt)("p",null,"In general, the spawning of modded entities is handled separately, by Forge."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"This means that simply extending a vanilla entity class may not inherit all its behavior. You may need to implement certain vanilla behaviors yourself.")),(0,i.kt)("p",null,"You can add extra data to the spawn packet Forge sends by implementing the following interface."),(0,i.kt)("h3",{id:"ientityadditionalspawndata"},"IEntityAdditionalSpawnData"),(0,i.kt)("p",null,"If your entity has data that is needed on the client, but does not change over time, then it can be added to the entity spawn packet using this interface. ",(0,i.kt)("inlineCode",{parentName:"p"},"#writeSpawnData")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"#readSpawnData")," control how the data should be encoded to/decoded from the network buffer."),(0,i.kt)("h2",{id:"dynamic-data"},"Dynamic Data"),(0,i.kt)("h3",{id:"data-parameters"},"Data Parameters"),(0,i.kt)("p",null,"This is the main vanilla system for synchronizing entity data from the server to the client. As such, a number of vanilla examples are available to refer to."),(0,i.kt)("p",null,"Firstly, you need a ",(0,i.kt)("inlineCode",{parentName:"p"},"EntityDataAccessor<T>")," for the data you wish to keep synchronized. This should be stored as a ",(0,i.kt)("inlineCode",{parentName:"p"},"static final")," field in your entity class, obtained by calling ",(0,i.kt)("inlineCode",{parentName:"p"},"SynchedEntityData#defineId")," and passing the entity class and a serializer for that type of data. The available serializer implementations can be found as static constants within the ",(0,i.kt)("inlineCode",{parentName:"p"},"EntityDataSerializers")," class."),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"You should ",(0,i.kt)("strong",{parentName:"p"},"only")," create data parameters for your own entities, ",(0,i.kt)("em",{parentName:"p"},"within that entity's class"),".\nAdding parameters to entities you do not control can cause the IDs used to send that data over the network to become desynchronized, causing difficult to debug crashes.")),(0,i.kt)("p",null,"Then, override ",(0,i.kt)("inlineCode",{parentName:"p"},"Entity#defineSynchedData")," and call ",(0,i.kt)("inlineCode",{parentName:"p"},"this.entityData.define(...)")," for each of your data parameters, passing the parameter and an initial value to use. Remember to always call the ",(0,i.kt)("inlineCode",{parentName:"p"},"super")," method first!"),(0,i.kt)("p",null,"You can then get and set these values via your entity's ",(0,i.kt)("inlineCode",{parentName:"p"},"entityData")," instance. Changes made will be synchronized to the client automatically."))}u.isMDXComponent=!0}}]);