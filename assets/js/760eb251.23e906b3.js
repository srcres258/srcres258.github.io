"use strict";(self.webpackChunkneoforged_docs=self.webpackChunkneoforged_docs||[]).push([[3299],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>g});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},m="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=c(a),u=r,g=m["".concat(s,".").concat(u)]||m[u]||p[u]||o;return a?n.createElement(g,i(i({ref:t},d),{},{components:a})):n.createElement(g,i({ref:t},d))}));function g(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[m]="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},3439:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var n=a(7462),r=(a(7294),a(3905));const o={},i="Structuring Your Mod",l={unversionedId:"gettingstarted/structuring",id:"gettingstarted/structuring",title:"Structuring Your Mod",description:"Structured mods are beneficial for maintenance, making contributions, and providing a clearer understanding of the underlying codebase. Some of the recommendations from Java, Minecraft, and Forge are listed below.",source:"@site/docs/gettingstarted/structuring.md",sourceDirName:"gettingstarted",slug:"/gettingstarted/structuring",permalink:"/docs/gettingstarted/structuring",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"mainSidebar",previous:{title:"Mod Files",permalink:"/docs/gettingstarted/modfiles"},next:{title:"Versioning",permalink:"/docs/gettingstarted/versioning"}},s={},c=[{value:"Packaging",id:"packaging",level:2},{value:"Sub-package Organization",id:"sub-package-organization",level:3},{value:"Client, Server, and Data Packages",id:"client-server-and-data-packages",level:4},{value:"Class Naming Schemes",id:"class-naming-schemes",level:2},{value:"Choose One Method from Many",id:"choose-one-method-from-many",level:2}],d={toc:c},m="wrapper";function p(e){let{components:t,...a}=e;return(0,r.kt)(m,(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"structuring-your-mod"},"Structuring Your Mod"),(0,r.kt)("p",null,"Structured mods are beneficial for maintenance, making contributions, and providing a clearer understanding of the underlying codebase. Some of the recommendations from Java, Minecraft, and Forge are listed below."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"You do not have to follow the advice below; you can structure your mod any way you see fit. However, it is still highly recommended to do so.")),(0,r.kt)("h2",{id:"packaging"},"Packaging"),(0,r.kt)("p",null,"When structuring your mod, pick a unique, top-level package structure. Many programmers will use the same name for different classes, interfaces, etc. Java allows classes to have the same name as long as they are in different packages. As such, if two classes have the same package with the same name, only one would be loaded, most likely causing the game to crash."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"a.jar\n  - com.example.ExampleClass\nb.jar\n  - com.example.ExampleClass // This class will not normally be loaded\n")),(0,r.kt)("p",null,"This is even more relevant when it comes to loading modules. If there are class files in two packages under the same name in separate modules, this will cause the mod loader ",(0,r.kt)("strong",{parentName:"p"},"to crash on startup")," since mod modules are exported to the game and other mods."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"module A\n  - package X\n    - class I\n    - class J\nmodule B\n  - package X // This package will cause the mod loader to crash, as there already is a module with package X being exported\n    - class R\n    - class S\n    - class T\n")),(0,r.kt)("p",null,"As such, your top level package should be something that you own: a domain, email address, a subdomain of where your website, etc. It can even be your name or username as long as you can guarantee that it will be uniquely identifiable within the expected target."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Value"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Top-Level Package"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"Domain"),(0,r.kt)("td",{parentName:"tr",align:"center"},"example.com"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"com.example"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"Subdomain"),(0,r.kt)("td",{parentName:"tr",align:"center"},"example.github.io"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"io.github.example"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"Email"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("a",{parentName:"td",href:"mailto:example@gmail.com"},"example@gmail.com")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"com.gmail.example"))))),(0,r.kt)("p",null,"The next level package should then be your mod's id (e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},"com.example.examplemod")," where ",(0,r.kt)("inlineCode",{parentName:"p"},"examplemod")," is the mod id). This will guarantee that, unless you have two mods with the same id (which should never be the case), your packages should not have any issues loading."),(0,r.kt)("p",null,"You can find some additional naming conventions on ",(0,r.kt)("a",{parentName:"p",href:"https://docs.oracle.com/javase/tutorial/java/package/namingpkgs.html"},"Oracle's tutorial page"),"."),(0,r.kt)("h3",{id:"sub-package-organization"},"Sub-package Organization"),(0,r.kt)("p",null,"In addition to the top-level package, it is highly recommend to break your mod's classes between subpackages. There are two major methods on how to do so:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Group By Function"),": Make subpackages for classes with a common purpose. For example, blocks can be under ",(0,r.kt)("inlineCode",{parentName:"li"},"block")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"blocks"),", entities under ",(0,r.kt)("inlineCode",{parentName:"li"},"entity")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"entities"),", etc. Mojang uses this structure with the singular version of the word."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Group By Logic"),": Make subpackages for classes with a common logic. For example, if you were creating a new type of crafting table, you would put its block, menu, item, and more under ",(0,r.kt)("inlineCode",{parentName:"li"},"feature.crafting_table"),".")),(0,r.kt)("h4",{id:"client-server-and-data-packages"},"Client, Server, and Data Packages"),(0,r.kt)("p",null,"In general, code only for a given side or runtime should be isolated from the other classes in a separate subpackage. For example, code related to ",(0,r.kt)("a",{parentName:"p",href:"/docs/datagen/"},"data generation")," should go in a ",(0,r.kt)("inlineCode",{parentName:"p"},"data")," package while code only on the dedicated server should go in a ",(0,r.kt)("inlineCode",{parentName:"p"},"server")," package."),(0,r.kt)("p",null,"However, it is highly recommended that ",(0,r.kt)("a",{parentName:"p",href:"/docs/concepts/sides"},"client-only code")," should be isolated in a ",(0,r.kt)("inlineCode",{parentName:"p"},"client")," subpackage. This is because dedicated servers have no access to any of the client-only packages in Minecraft. As such, having a dedicated package would provide a decent sanity check to verify you are not reaching across sides within your mod."),(0,r.kt)("h2",{id:"class-naming-schemes"},"Class Naming Schemes"),(0,r.kt)("p",null,"A common class naming scheme makes it easier to decipher the purpose of the class or to easily locate specific classes."),(0,r.kt)("p",null,"Classes are commonly suffixed with its type, for example:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"An ",(0,r.kt)("inlineCode",{parentName:"li"},"Item")," called ",(0,r.kt)("inlineCode",{parentName:"li"},"PowerRing")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"PowerRingItem"),"."),(0,r.kt)("li",{parentName:"ul"},"A ",(0,r.kt)("inlineCode",{parentName:"li"},"Block")," called ",(0,r.kt)("inlineCode",{parentName:"li"},"NotDirt")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"NotDirtBlock"),"."),(0,r.kt)("li",{parentName:"ul"},"A menu for an ",(0,r.kt)("inlineCode",{parentName:"li"},"Oven")," -> ",(0,r.kt)("inlineCode",{parentName:"li"},"OvenMenu"),".")),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Mojang typically follows a similar structure for all classes except entities. Those are represented by just their names (e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},"Pig"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Zombie"),", etc.).")),(0,r.kt)("h2",{id:"choose-one-method-from-many"},"Choose One Method from Many"),(0,r.kt)("p",null,"There are many methods for performing a certain task: registering an object, listening for events, etc. It's generally recommended to be consistent by using a single method to accomplish a given task. While this does improve code formatting, it also avoid any weird interactions or redundancies that may occur (e.g. your event listener executing twice)."))}p.isMDXComponent=!0}}]);