"use strict";(self.webpackChunkneoforged_docs=self.webpackChunkneoforged_docs||[]).push([[9774],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>k});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),d=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=d(e.components);return n.createElement(s.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=d(a),u=r,k=m["".concat(s,".").concat(u)]||m[u]||c[u]||i;return a?n.createElement(k,o(o({ref:t},p),{},{components:a})):n.createElement(k,o({ref:t},p))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[m]="string"==typeof e?e:r,o[1]=l;for(var d=2;d<i;d++)o[d]=a[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},6933:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var n=a(7462),r=(a(7294),a(3905));const i={},o="Data Generators",l={unversionedId:"datagen/index",id:"datagen/index",title:"Data Generators",description:"Data generators are a way to programmatically generate the assets and data of mods. It allows the definition of the contents of these files in the code and their automatic generation, without worrying about the specifics.",source:"@site/docs/datagen/index.md",sourceDirName:"datagen",slug:"/datagen/",permalink:"/docs/datagen/",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"mainSidebar",previous:{title:"Sides in Minecraft",permalink:"/docs/concepts/sides"},next:{title:"Language Generation",permalink:"/docs/datagen/client/localization"}},s={},d=[{value:"Existing Files",id:"existing-files",level:2},{value:"Generator Modes",id:"generator-modes",level:2},{value:"Data Providers",id:"data-providers",level:2},{value:"Client Assets",id:"client-assets",level:3},{value:"Server Data",id:"server-data",level:3}],p={toc:d},m="wrapper";function c(e){let{components:t,...a}=e;return(0,r.kt)(m,(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"data-generators"},"Data Generators"),(0,r.kt)("p",null,"Data generators are a way to programmatically generate the assets and data of mods. It allows the definition of the contents of these files in the code and their automatic generation, without worrying about the specifics."),(0,r.kt)("p",null,"The data generator system is loaded by the main class ",(0,r.kt)("inlineCode",{parentName:"p"},"net.minecraft.data.Main"),". Different command-line arguments can be passed to customize which mods' data are gathered, what existing files are considered, etc. The class responsible for data generation is ",(0,r.kt)("inlineCode",{parentName:"p"},"net.minecraft.data.DataGenerator"),"."),(0,r.kt)("p",null,"The default configurations in the MDK ",(0,r.kt)("inlineCode",{parentName:"p"},"build.gradle")," adds the ",(0,r.kt)("inlineCode",{parentName:"p"},"runData")," task for running the data generators."),(0,r.kt)("h2",{id:"existing-files"},"Existing Files"),(0,r.kt)("p",null,"All references to textures or other data files not generated for data generation must reference existing files on the system. This is to ensure that all referenced textures are in the correct places, so typos can be found and corrected. "),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"ExistingFileHelper")," is the class responsible for validating the existence of those data files. An instance can be retrieved from  ",(0,r.kt)("inlineCode",{parentName:"p"},"GatherDataEvent#getExistingFileHelper"),"."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"--existing <folderpath>")," argument allows the specified folder and its subfolders to be used when validating the existence of files. Additionally, the ",(0,r.kt)("inlineCode",{parentName:"p"},"--existing-mod <modid>")," argument allows the resources of a loaded mod to be used for validation. By default, only the vanilla datapack and resources are available to the ",(0,r.kt)("inlineCode",{parentName:"p"},"ExistingFileHelper"),"."),(0,r.kt)("h2",{id:"generator-modes"},"Generator Modes"),(0,r.kt)("p",null,"The data generator can be configured to run 4 different data generations, which are configured from the command-line parameters, and can be checked from ",(0,r.kt)("inlineCode",{parentName:"p"},"GatherDataEvent#include***")," methods."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Client Assets"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Generates client-only files in ",(0,r.kt)("inlineCode",{parentName:"li"},"assets"),": block/item models, blockstate JSONs, language files, etc."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"--client")),", ",(0,r.kt)("inlineCode",{parentName:"li"},"#includeClient")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Server Data"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Generates server-only files in ",(0,r.kt)("inlineCode",{parentName:"li"},"data"),": recipes, advancements, tags, etc."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"--server")),", ",(0,r.kt)("inlineCode",{parentName:"li"},"#includeServer")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Development Tools"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Runs some development tools: converting SNBT to NBT and vice-versa, etc."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"--dev")),", ",(0,r.kt)("inlineCode",{parentName:"li"},"#includeDev")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Reports"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Dumps all registered blocks, items, commands, etc."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"--reports")),", ",(0,r.kt)("inlineCode",{parentName:"li"},"#includeReports"))))),(0,r.kt)("p",null,"All of the generators can be included using ",(0,r.kt)("inlineCode",{parentName:"p"},"--all"),"."),(0,r.kt)("h2",{id:"data-providers"},"Data Providers"),(0,r.kt)("p",null,"Data providers are the classes that actually define what data will be generated and provided. All data providers implement ",(0,r.kt)("inlineCode",{parentName:"p"},"DataProvider"),". Minecraft has abstract implementations for most assets and data, so modders need only to extend and override the specified method."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"GatherDataEvent")," is fired on the mod event bus when the data generator is being created, and the ",(0,r.kt)("inlineCode",{parentName:"p"},"DataGenerator")," can be obtained from the event. Create and register data providers using ",(0,r.kt)("inlineCode",{parentName:"p"},"DataGenerator#addProvider"),"."),(0,r.kt)("h3",{id:"client-assets"},"Client Assets"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/datagen/client/localization"},(0,r.kt)("inlineCode",{parentName:"a"},"net.minecraftforge.common.data.LanguageProvider"))," - for ",(0,r.kt)("a",{parentName:"li",href:"https://minecraft.wiki/w/Language"},"language strings"),"; implement ",(0,r.kt)("inlineCode",{parentName:"li"},"#addTranslations")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/datagen/client/sounds"},(0,r.kt)("inlineCode",{parentName:"a"},"net.minecraftforge.common.data.SoundDefinitionsProvider"))," - for ",(0,r.kt)("a",{parentName:"li",href:"https://minecraft.wiki/w/Sounds.json"},(0,r.kt)("inlineCode",{parentName:"a"},"sounds.json")),"; implement ",(0,r.kt)("inlineCode",{parentName:"li"},"#registerSounds")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/datagen/client/modelproviders"},(0,r.kt)("inlineCode",{parentName:"a"},"net.minecraftforge.client.model.generators.ModelProvider<?>"))," - for ",(0,r.kt)("a",{parentName:"li",href:"/docs/resources/client/models/"},"models"),"; implement ",(0,r.kt)("inlineCode",{parentName:"li"},"#registerModels"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/datagen/client/modelproviders#itemmodelprovider"},(0,r.kt)("inlineCode",{parentName:"a"},"ItemModelProvider"))," - for item models"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/datagen/client/modelproviders#blockmodelprovider"},(0,r.kt)("inlineCode",{parentName:"a"},"BlockModelProvider"))," - for block models"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/datagen/client/modelproviders#block-state-provider"},(0,r.kt)("inlineCode",{parentName:"a"},"net.minecraftforge.client.model.generators.BlockStateProvider"))," - for blockstate JSONs and their block and item models; implement ",(0,r.kt)("inlineCode",{parentName:"li"},"#registerStatesAndModels"))),(0,r.kt)("h3",{id:"server-data"},"Server Data"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"These classes are under the ",(0,r.kt)("inlineCode",{parentName:"strong"},"net.minecraftforge.common.data")," package"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/datagen/server/glm"},(0,r.kt)("inlineCode",{parentName:"a"},"GlobalLootModifierProvider"))," - for ",(0,r.kt)("a",{parentName:"li",href:"/docs/resources/server/glm"},"global loot modifiers"),"; implement ",(0,r.kt)("inlineCode",{parentName:"li"},"#start")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/datagen/server/datapackregistries"},(0,r.kt)("inlineCode",{parentName:"a"},"DatapackBuiltinEntriesProvider"))," for datapack registry objects; pass in ",(0,r.kt)("inlineCode",{parentName:"li"},"RegistrySetBuilder")," to the constructor")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"These classes are under the ",(0,r.kt)("inlineCode",{parentName:"strong"},"net.minecraft.data")," package"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/datagen/server/loottables"},(0,r.kt)("inlineCode",{parentName:"a"},"loot.LootTableProvider"))," - for ",(0,r.kt)("a",{parentName:"li",href:"/docs/resources/server/loottables"},"loot tables"),"; pass in ",(0,r.kt)("inlineCode",{parentName:"li"},"LootTableProvider$SubProviderEntry"),"s to the constructor"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/datagen/server/recipes"},(0,r.kt)("inlineCode",{parentName:"a"},"recipes.RecipeProvider"))," - for ",(0,r.kt)("a",{parentName:"li",href:"/docs/resources/server/recipes/"},"recipes")," and their unlocking advancements; implement ",(0,r.kt)("inlineCode",{parentName:"li"},"#buildRecipes")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/datagen/server/tags"},(0,r.kt)("inlineCode",{parentName:"a"},"tags.TagsProvider"))," - for ",(0,r.kt)("a",{parentName:"li",href:"/docs/resources/server/tags"},"tags"),"; implement ",(0,r.kt)("inlineCode",{parentName:"li"},"#addTags")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/datagen/server/advancements"},(0,r.kt)("inlineCode",{parentName:"a"},"advancements.AdvancementProvider"))," - for ",(0,r.kt)("a",{parentName:"li",href:"/docs/resources/server/advancements"},"advancements"),"; pass in ",(0,r.kt)("inlineCode",{parentName:"li"},"AdvancementSubProvider"),"s to the constructor")))}c.isMDXComponent=!0}}]);